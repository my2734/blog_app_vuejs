{"ast":null,"code":"import axios from 'axios';\nimport store from '@/store';\nexport default {\n  name: 'BlogDetailApp',\n  data() {\n    return {\n      blogdetail: {\n        name: \"\",\n        categories: [],\n        author: \"\",\n        tags: [],\n        image: \"\",\n        content: \"\"\n      },\n      content_comment: \"\",\n      info_updata: {\n        status_update: false,\n        id_comment: \"\"\n      }\n    };\n  },\n  computed: {\n    currentUsername() {\n      return store.state.auth.username;\n    },\n    status_login() {\n      return store.state.auth.isAuthentication;\n    }\n  },\n  methods: {\n    handlerComment() {\n      const data = {\n        username: store.state.auth.username,\n        content: this.content_comment\n      };\n      const id = this.$route.params.id;\n      axios.post('http://localhost:8080/api/post/comment/' + id, data).then(response => {\n        if (response.status == 200) {\n          this.content_comment = \"\";\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    handlerCliCkDeleteComment(id) {\n      const id_blog = this.$route.params.id;\n      const id_comment = id;\n      // console.log(id_blog,data)\n      axios.delete('http://localhost:8080/api/post/comment/' + id_blog + '?id_comment=' + id_comment).then(response => {\n        console.log(response);\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    handlerClickUpdate(id, content) {\n      this.info_updata.status_update = true;\n      this.info_updata.id_comment = id;\n      this.content_comment = content;\n    },\n    handlerUpdateComment(id) {\n      const id_blog = this.$route.params.id;\n      const id_comment = id;\n      // const data = {\n      //     id: id_comment,\n      //     content: this.content_comment\n      // }\n      console.log(id_blog, id_comment);\n      // axios.put('http://localhost:8080/api/post/comment/'+id_blog,data)\n      //     .then(response=>{\n      //         console.log(response)\n      //     })\n      //     .catch(error=>{\n      //         console.log(error)\n      //     })\n    }\n  },\n\n  created() {\n    const id = this.$route.params.id;\n    axios.get('http://localhost:8080/api/post/' + id).then(response => {\n      this.blogdetail = response.data;\n      console.log(this.blogdetail);\n    }).catch(error => {\n      console.log(error);\n    });\n  },\n  mounted() {},\n  updated() {\n    const id = this.$route.params.id;\n    axios.get('http://localhost:8080/api/post/' + id).then(response => {\n      this.blogdetail = response.data;\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n};","map":{"version":3,"mappings":"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","names":["axios","store","name","data","blogdetail","categories","author","tags","image","content","content_comment","info_updata","status_update","id_comment","computed","currentUsername","state","auth","username","status_login","isAuthentication","methods","handlerComment","id","$route","params","post","then","response","status","catch","error","console","log","handlerCliCkDeleteComment","id_blog","delete","handlerClickUpdate","handlerUpdateComment","created","get","mounted","updated"],"sourceRoot":"","sources":["D:\\trainningVuejs\\blog_app_vuejs\\client\\src\\views\\main\\BlogDetail.vue"],"sourcesContent":["<template>\r\n\r\n    <div>\r\n        <div class=\"col-md-9\">\r\n            <div class=\"blog-posts\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-md-12\">\r\n                        <div class=\"single-blog-post\">\r\n                            <img v-if=\"blogdetail.image\" :src=\"'http://localhost:8080/images/'+blogdetail.image\" alt=\"\">\r\n                            <div class=\"text-content\">\r\n                                <h2>{{ blogdetail.name }}</h2>\r\n                                <span>\r\n                                    <a href=\"#\">{{ blogdetail.author }}</a> / <a href=\"#\">{{ blogdetail.createdAt }}</a> \r\n                                    <a v-if=\"blogdetail.categories[0]\" href=\"#\"> / {{ blogdetail.categories[0] }}</a>\r\n                                </span>\r\n                                <p>{{ blogdetail.content }}</p>\r\n                                <div class=\"tags-share\">\r\n                                    <div class=\"row\">\r\n                                        <div v-if=\"blogdetail.tags.length>0\" class=\"col-md-6\">\r\n                                            <ul class=\"tags\">\r\n                                                <li>Tags:</li>\r\n                                                <li v-for=\"tags in blogdetail.tags\" :key=\"tags\"><a href=\"#\">{{ tags }}</a>,</li>\r\n                                            </ul>\r\n                                        </div>\r\n                                        <div class=\"col-md-6\">\r\n                                            <ul class=\"share\">\r\n                                                <li>Share:</li>\r\n                                                <li><a href=\"#\">facebook</a>,</li>\r\n                                                <li><a href=\"#\">twitter</a>,</li>\r\n                                                <li><a href=\"#\">behance</a></li>\r\n                                            </ul>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                    <div class=\"col-md-12\">\r\n                        <div v-if=\"status_login\" class=\"search\">\r\n                            <fieldset>\r\n                                <input class=\"form-control\" v-model=\"content_comment\" placeholder=\"Comment\" required=\"\">\r\n                            </fieldset>\r\n                            <span v-if=\"info_updata.status_update\" @click=\"handlerUpdateComment()\" class=\"btn-login\" style=\"margin-top: 20px;\">Update</span>\r\n                            <span v-else @click=\"handlerComment()\" class=\"btn-login\" style=\"margin-top: 20px;\">Submit</span>\r\n                        </div>\r\n                        <h2>Comments</h2>\r\n                        <div v-for=\"comment in blogdetail.comment\" :key=\"comment._id\" style=\"margin-bottom: 20xp!important;\"  class=\"text-justify darker mt-4 float-right\">\r\n                            <h4>{{ comment.username }}</h4> \r\n                            <span v-if=\"status_login && comment.username == currentUsername\">\r\n                                <span @click=\"handlerClickUpdate(comment._id, comment.content)\" style=\"margin-left: 500px; margin-right: 10px;cursor:pointer\">Edit</span><span @click=\"handlerCliCkDeleteComment(comment._id)\" style=\"cursor:pointer\">Delete</span>\r\n                            </span>\r\n                            <br>\r\n                            <p>{{ comment.content }}</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport store from '@/store'\r\nexport default{\r\n    name: 'BlogDetailApp',\r\n    data(){\r\n        return {\r\n            blogdetail: {\r\n                name: \"\",\r\n                categories: [],\r\n                author: \"\",\r\n                tags: [],\r\n                image: \"\",\r\n                content:\"\",\r\n            },\r\n            content_comment:\"\",\r\n            info_updata: {\r\n                status_update: false,\r\n                id_comment: \"\"\r\n            }\r\n           \r\n        }\r\n    },\r\n   computed:{\r\n    currentUsername(){\r\n        return store.state.auth.username\r\n    },\r\n    status_login(){\r\n        return store.state.auth.isAuthentication\r\n    }\r\n   },\r\n   methods: {\r\n    handlerComment(){\r\n        const data = {\r\n            username: store.state.auth.username,\r\n            content: this.content_comment\r\n        }\r\n        const id = this.$route.params.id;\r\n        axios.post('http://localhost:8080/api/post/comment/'+id, data)\r\n            .then(response=>{\r\n                if(response.status == 200){\r\n                    this.content_comment = \"\"\r\n                }\r\n            })\r\n            .catch(error=>{\r\n                console.log(error)\r\n            })\r\n    },\r\n    handlerCliCkDeleteComment(id){\r\n        const id_blog = this.$route.params.id;\r\n        const id_comment = id\r\n        // console.log(id_blog,data)\r\n        axios.delete('http://localhost:8080/api/post/comment/'+id_blog+'?id_comment='+id_comment)\r\n            .then(response=>{\r\n                console.log(response)\r\n            })\r\n            .catch(error=>{\r\n                console.log(error)\r\n            })\r\n    },\r\n    handlerClickUpdate(id,content){\r\n       this.info_updata.status_update = true\r\n       this.info_updata.id_comment = id\r\n      \r\n       this.content_comment = content\r\n    },\r\n    handlerUpdateComment(id){\r\n        const id_blog = this.$route.params.id;\r\n        const id_comment = id\r\n        // const data = {\r\n        //     id: id_comment,\r\n        //     content: this.content_comment\r\n        // }\r\n        console.log(id_blog, id_comment)\r\n        // axios.put('http://localhost:8080/api/post/comment/'+id_blog,data)\r\n        //     .then(response=>{\r\n        //         console.log(response)\r\n        //     })\r\n        //     .catch(error=>{\r\n        //         console.log(error)\r\n        //     })\r\n    }\r\n   },\r\n   created(){\r\n        const id = this.$route.params.id;\r\n        axios.get('http://localhost:8080/api/post/'+id)\r\n        .then(response=>{\r\n            this.blogdetail = response.data;\r\n            console.log(this.blogdetail)\r\n        })\r\n        .catch(error=>{\r\n            console.log(error)\r\n        })\r\n   },\r\n    mounted(){\r\n       \r\n    },\r\n    updated(){\r\n        const id = this.$route.params.id;\r\n        axios.get('http://localhost:8080/api/post/'+id)\r\n        .then(response=>{\r\n            this.blogdetail = response.data;\r\n        })\r\n        .catch(error=>{\r\n            console.log(error)\r\n        })\r\n    }\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.navbar-nav{\r\n    width: 100%;\r\n}\r\n\r\n@media(min-width:568px){\r\n    .end{\r\n        margin-left: auto;\r\n    }\r\n}\r\n\r\n@media(max-width:768px){\r\n    #post{\r\n        width: 100%;\r\n    }\r\n}\r\n#clicked{\r\n    padding-top: 1px;\r\n    padding-bottom: 1px;\r\n    text-align: center;\r\n    width: 100%;\r\n    background-color: #ecb21f;\r\n    border-color: white;\r\n    border-width: 1px;\r\n    border-style: solid;\r\n    border-radius: 13px; \r\n}\r\n\r\n#profile{\r\n    background-color: unset;\r\n    \r\n} \r\n\r\n#post{\r\n    margin: 10px;\r\n    padding: 6px;\r\n    padding-top: 2px;\r\n    padding-bottom: 2px;\r\n    text-align: center;\r\n    background-color: #ecb21f;\r\n    border-color: white;\r\n    color: black;\r\n    border-width: 1px;\r\n    border-style: solid;\r\n    border-radius: 13px;\r\n    width: 50%;\r\n}\r\n\r\nbody{\r\n    background-color: black;\r\n}\r\n\r\n#nav-items li a,#profile{\r\n    text-decoration: none;\r\n    color: rgb(224, 219, 219);\r\n    background-color: black;\r\n}\r\n\r\n\r\n.comments{\r\n    margin-top: 5%;\r\n    margin-left: 20px;\r\n}\r\n\r\n.darker{\r\n    border: 1px solid white;\r\n\r\n    border-radius: 5px;\r\n    padding-left: 40px;\r\n    padding-right: 30px;\r\n    padding-top: 10px;\r\n    margin-bottom: 10px !important;\r\n}\r\n\r\n.comment{\r\n    border: 1px solid rgba(16, 46, 46, 1);\r\n    background-color: rgba(16, 46, 46, 0.973);\r\n    float: left;\r\n    border-radius: 5px;\r\n    padding-left: 40px;\r\n    padding-right: 30px;\r\n    padding-top: 10px;\r\n    \r\n}\r\n.comment h4,.comment span,.darker h4,.darker span{\r\n    display: inline;\r\n}\r\n\r\n.comment p,.comment span,.darker p,.darker span{\r\n    color: rgb(184, 183, 183);\r\n}\r\n\r\nh1,h4{\r\n    color: white;\r\n    font-weight: bold;\r\n}\r\nlabel{\r\n    color: rgb(212, 208, 208);\r\n}\r\n\r\n#align-form{\r\n    margin-top: 20px;\r\n}\r\n.form-group p a{\r\n    color: white;\r\n}\r\n\r\n#checkbx{\r\n    background-color: black;\r\n}\r\n\r\n#darker img{\r\n    margin-right: 15px;\r\n    position: static;\r\n}\r\n\r\n.form-group input,.form-group textarea{\r\n    background-color: black;\r\n    border: 1px solid rgba(16, 46, 46, 1);\r\n    border-radius: 12px;\r\n}\r\n\r\nform{\r\n    border: 1px solid rgba(16, 46, 46, 1);\r\n    background-color: rgba(16, 46, 46, 0.973);\r\n    border-radius: 5px;\r\n    padding: 20px;\r\n }\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}